FROM node:15.13-alpine
WORKDIR /app/prediction-app-frontend

RUN addgroup -S appgroup && adduser -S app -G appgroup

RUN apk update && apk add curl
RUN apk add --no-cache bash
RUN curl -sL https://deb.nodesource.com/setup_14.x | bash -
RUN apk add --no-cache nodejs
COPY . .

RUN chown -R app:app /app/
USER app

RUN npm run build