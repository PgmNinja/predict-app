{"ast":null,"code":"import _asyncToGenerator from\"/home/qburst/Repositories(Personal)/predict-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/qburst/Repositories(Personal)/predict-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/qburst/Repositories(Personal)/predict-app/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,BarElement,Title,Tooltip,Legend,ArcElement}from'chart.js';import{Line,Pie,Bar}from'react-chartjs-2';import*as ReactBootStrap from'react-bootstrap';import'bootstrap/dist/css/bootstrap.css';import Carousel from'react-bootstrap/Carousel';import AnalysisHeader from'../components/AnalysisHeader';import Spinner from'../components/Spinner';import AnalysisInst from'../components/AnalysisInst';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,ArcElement,BarElement);var AnalysisPage=function AnalysisPage(_ref){var history=_ref.history;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),homeTeam=_useState4[0],setHomeTeam=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),awayTeam=_useState6[0],setAwayTeam=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),homeStats=_useState8[0],setHomeStats=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),awayStats=_useState10[0],setAwayStats=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),years=_useState12[0],setYears=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),headtToHead=_useState14[0],setHeadToHead=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),polarity=_useState16[0],setPolarity=_useState16[1];useEffect(function(){getData();analysisResult();},[]);var getData=function getData(){homeTeam=localStorage.getItem('homeTeam',homeTeam);awayTeam=localStorage.getItem('awayTeam',awayTeam);setHomeTeam(homeTeam);setAwayTeam(awayTeam);};var data01={labels:years,datasets:[{label:homeTeam,data:homeStats,fill:false,borderColor:\"rgba(75,192,192,1)\"},{label:awayTeam,data:awayStats,fill:false,borderColor:\"#494d4f\"}]};var data02={labels:[homeTeam,awayTeam],datasets:[{label:'# of Votes',data:headtToHead,backgroundColor:[\"rgba(75,192,192,1)\",\"#494d4f\"],borderWidth:1}]};var labels=[homeTeam,awayTeam];var data03={labels:labels,datasets:[{label:'Polarity',data:polarity,backgroundColor:'#00aba9'}]};var analysisResult=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);fetch('/api/analysis/',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"home_team\":homeTeam,\"away_team\":awayTeam})}).then(function(response){return response.json();}).then(function(data){console.log('Result:',data);setHomeStats(data.home_win_stats);setAwayStats(data.away_win_stats);setYears(data.years);setHeadToHead(data.count);setPolarity(data.polarity);setLoading(false);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function analysisResult(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AnalysisHeader,{}),/*#__PURE__*/_jsxs(Carousel,{className:\"carousel\",children:[/*#__PURE__*/_jsxs(Carousel.Item,{interval:1500,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"analysis-1\",children:\"Performance over Years\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line-diagram\",children:/*#__PURE__*/_jsx(Line,{data:data01})})]}),/*#__PURE__*/_jsxs(Carousel.Item,{interval:1500,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"analysis-1\",children:\"Head to Head Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pie-diagram\",children:/*#__PURE__*/_jsx(Pie,{data:data02})})]}),/*#__PURE__*/_jsxs(Carousel.Item,{interval:1500,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"analysis-1\",children:\"Support on Twitter\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line-diagram\",children:/*#__PURE__*/_jsx(Bar,{data:data03})})]})]}),/*#__PURE__*/_jsx(AnalysisInst,{})]})});};export default AnalysisPage;","map":{"version":3,"sources":["/home/qburst/Repositories(Personal)/predict-app/frontend/src/pages/AnalysisPage.js"],"names":["React","useState","useEffect","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","BarElement","Title","Tooltip","Legend","ArcElement","Line","Pie","Bar","ReactBootStrap","Carousel","AnalysisHeader","Spinner","AnalysisInst","register","AnalysisPage","history","loading","setLoading","homeTeam","setHomeTeam","awayTeam","setAwayTeam","homeStats","setHomeStats","awayStats","setAwayStats","years","setYears","headtToHead","setHeadToHead","polarity","setPolarity","getData","analysisResult","localStorage","getItem","data01","labels","datasets","label","data","fill","borderColor","data02","backgroundColor","borderWidth","data03","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","home_win_stats","away_win_stats","count"],"mappings":"6aAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OACEC,KAAK,GAAIC,CAAAA,OADX,CAEEC,aAFF,CAGEC,WAHF,CAIEC,YAJF,CAKEC,WALF,CAMEC,UANF,CAOEC,KAPF,CAQEC,OARF,CASEC,MATF,CAUEC,UAVF,KAWO,UAXP,CAYA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,GAApB,KAA+B,iBAA/B,CAEA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,iBAAhC,CAEA,MAAO,kCAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,0BAArB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,C,wFAEAjB,OAAO,CAACkB,QAAR,CACEjB,aADF,CAEEC,WAFF,CAGEC,YAHF,CAIEC,WAJF,CAKEE,KALF,CAMEC,OANF,CAOEC,MAPF,CAQEC,UARF,CASEJ,UATF,EAcA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAe,IAAbC,CAAAA,OAAa,MAAbA,OAAa,CAElC,cAA4BvB,QAAQ,CAAC,KAAD,CAApC,wCAAKwB,OAAL,eAAcC,UAAd,eACA,eAA8BzB,QAAQ,CAAC,EAAD,CAAtC,yCAAK0B,QAAL,eAAeC,WAAf,eACA,eAA8B3B,QAAQ,CAAC,EAAD,CAAtC,yCAAK4B,QAAL,eAAeC,WAAf,eACA,eAAgC7B,QAAQ,CAAC,EAAD,CAAxC,yCAAK8B,SAAL,eAAgBC,YAAhB,eACA,eAAgC/B,QAAQ,CAAC,EAAD,CAAxC,0CAAKgC,SAAL,gBAAgBC,YAAhB,gBACA,gBAAwBjC,QAAQ,CAAC,EAAD,CAAhC,2CAAKkC,KAAL,gBAAYC,QAAZ,gBACA,gBAAmCnC,QAAQ,CAAC,EAAD,CAA3C,2CAAKoC,WAAL,gBAAkBC,aAAlB,gBACA,gBAA8BrC,QAAQ,CAAC,EAAD,CAAtC,2CAAKsC,QAAL,gBAAeC,WAAf,gBAEEtC,SAAS,CAAC,UAAM,CAChBuC,OAAO,GACPC,cAAc,GACb,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAID,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClBd,QAAQ,CAAGgB,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCjB,QAAjC,CAAX,CACAE,QAAQ,CAAGc,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCf,QAAjC,CAAX,CACAD,WAAW,CAACD,QAAD,CAAX,CACAG,WAAW,CAACD,QAAD,CAAX,CACD,CALD,CASF,GAAMgB,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAEX,KADG,CAEXY,QAAQ,CAAE,CACR,CACEC,KAAK,CAAErB,QADT,CAEEsB,IAAI,CAAElB,SAFR,CAGEmB,IAAI,CAAE,KAHR,CAIEC,WAAW,CAAE,oBAJf,CADQ,CAOR,CACEH,KAAK,CAACnB,QADR,CAEEoB,IAAI,CAAEhB,SAFR,CAGEiB,IAAI,CAAE,KAHR,CAIEC,WAAW,CAAE,SAJf,CAPQ,CAFC,CAAf,CAkBE,GAAMC,CAAAA,MAAM,CAAG,CACbN,MAAM,CAAE,CAACnB,QAAD,CAAWE,QAAX,CADK,CAEbkB,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,YADT,CAEEC,IAAI,CAAEZ,WAFR,CAGEgB,eAAe,CAAE,CACf,oBADe,CAEf,SAFe,CAHnB,CAQEC,WAAW,CAAE,CARf,CADQ,CAFG,CAAf,CAeA,GAAMR,CAAAA,MAAM,CAAG,CAACnB,QAAD,CAAWE,QAAX,CAAf,CACA,GAAM0B,CAAAA,MAAM,CAAG,CACbT,MAAM,CAANA,MADa,CAEbC,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,UADT,CAEEC,IAAI,CAAEV,QAFR,CAGEc,eAAe,CAAE,SAHnB,CADQ,CAFG,CAAf,CAgBF,GAAIX,CAAAA,cAAc,2FAAG,mIACnBhB,UAAU,CAAC,IAAD,CAAV,CACA8B,KAAK,CAAC,gBAAD,CAAmB,CACpBC,MAAM,CAAE,MADY,CAEpBC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFW,CAKpBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB,YAAalC,QADI,CAEjB,YAAaE,QAFI,CAAf,CALc,CAAnB,CAAL,CASGiC,IATH,CASQ,SAASC,QAAT,CAAmB,CACzB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACA,CAXF,EAYEF,IAZF,CAYO,SAASb,IAAT,CAAe,CACpBgB,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBjB,IAAvB,EAEAjB,YAAY,CAACiB,IAAI,CAACkB,cAAN,CAAZ,CACAjC,YAAY,CAACe,IAAI,CAACmB,cAAN,CAAZ,CACAhC,QAAQ,CAACa,IAAI,CAACd,KAAN,CAAR,CACAG,aAAa,CAACW,IAAI,CAACoB,KAAN,CAAb,CACA7B,WAAW,CAACS,IAAI,CAACV,QAAN,CAAX,CACAb,UAAU,CAAC,KAAD,CAAV,CAEA,CAtBF,EAFmB,sDAAH,kBAAdgB,CAAAA,cAAc,2CAAlB,CA4BA,mBAAO,qBACJjB,OAAO,cAAI,KAAC,OAAD,IAAJ,cACJ,oCACI,KAAC,cAAD,IADJ,cAGE,MAAC,QAAD,EAAU,SAAS,CAAC,UAApB,wBACE,MAAC,QAAD,CAAU,IAAV,EAAe,QAAQ,CAAE,IAAzB,wBACI,WAAI,SAAS,CAAC,YAAd,oCADJ,cAEI,YAAK,SAAS,CAAC,cAAf,uBACE,KAAC,IAAD,EAAM,IAAI,CAAEoB,MAAZ,EADF,EAFJ,GADF,cAQI,MAAC,QAAD,CAAU,IAAV,EAAe,QAAQ,CAAE,IAAzB,wBACE,WAAI,SAAS,CAAC,YAAd,mCADF,cAEE,YAAK,SAAS,CAAC,aAAf,uBACE,KAAC,GAAD,EAAK,IAAI,CAAEO,MAAX,EADF,EAFF,GARJ,cAeI,MAAC,QAAD,CAAU,IAAV,EAAe,QAAQ,CAAE,IAAzB,wBACE,WAAI,SAAS,CAAC,YAAd,gCADF,cAEE,YAAK,SAAS,CAAC,cAAf,uBACE,KAAC,GAAD,EAAK,IAAI,CAAEG,MAAX,EADF,EAFF,GAfJ,GAHF,cA0BE,KAAC,YAAD,IA1BF,GAFC,EAAP,CAoCD,CA3ID,CA6IA,cAAehC,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement\n} from 'chart.js';\nimport { Line, Pie, Bar } from 'react-chartjs-2';\n\nimport * as ReactBootStrap from 'react-bootstrap'\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Carousel from 'react-bootstrap/Carousel';\n\nimport AnalysisHeader from '../components/AnalysisHeader'\nimport Spinner from '../components/Spinner'\n\nimport AnalysisInst from '../components/AnalysisInst'\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement,\n  BarElement,\n);\n\n\n\nconst AnalysisPage = ({history}) => {\n  \n  let [loading, setLoading] = useState(false)\n  let [homeTeam, setHomeTeam] = useState(\"\")\n  let [awayTeam, setAwayTeam] = useState(\"\")\n  let [homeStats, setHomeStats] = useState([])\n  let [awayStats, setAwayStats] = useState([])\n  let [years, setYears] = useState([])\n  let [headtToHead, setHeadToHead] = useState([])\n  let [polarity, setPolarity] = useState([])\n\n    useEffect(() => {\n    getData()\n    analysisResult()  \n    }, [])\n\n    let getData = () => {\n      homeTeam = localStorage.getItem('homeTeam', homeTeam)\n      awayTeam = localStorage.getItem('awayTeam', awayTeam)\n      setHomeTeam(homeTeam)\n      setAwayTeam(awayTeam)\n    }\n\n \n\n  const data01 = {\n      labels: years,\n      datasets: [\n        {\n          label: homeTeam,\n          data: homeStats,\n          fill: false,\n          borderColor: \"rgba(75,192,192,1)\"\n        },\n        {\n          label:awayTeam,\n          data: awayStats,\n          fill: false,\n          borderColor: \"#494d4f\"\n        }\n      ]\n    };\n\n    const data02 = {\n      labels: [homeTeam, awayTeam],\n      datasets: [\n        {\n          label: '# of Votes',\n          data: headtToHead,\n          backgroundColor: [\n            \"rgba(75,192,192,1)\",\n            \"#494d4f\"\n          ],\n\n          borderWidth: 1,\n        },\n      ],\n    };\n    const labels = [homeTeam, awayTeam]\n    const data03 = {\n      labels,\n      datasets: [\n        {\n          label: 'Polarity',\n          data: polarity,\n          backgroundColor: '#00aba9',\n        },\n    \n      ],\n    };\n\n\n\n  \n  \n  let analysisResult = async () => {\n    setLoading(true)\n    fetch('/api/analysis/', {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"home_team\": homeTeam,\n            \"away_team\": awayTeam\n        })\n    }).then(function(response) {\n      return response.json();\n     })\n     .then(function(data) {\n      console.log('Result:', data)\n\n      setHomeStats(data.home_win_stats)\n      setAwayStats(data.away_win_stats)\n      setYears(data.years)\n      setHeadToHead(data.count)\n      setPolarity(data.polarity)\n      setLoading(false)\n\n     })\n}\n \n\n  return <div>\n    {loading ? (<Spinner />): (\n        <div>\n            <AnalysisHeader />\n\n          <Carousel className='carousel'>\n            <Carousel.Item interval={1500}>\n                <h3 className='analysis-1'>Performance over Years</h3>\n                <div className=\"line-diagram\">\n                  <Line data={data01} />\n                </div>\n                </Carousel.Item>\n\n              <Carousel.Item interval={1500}>\n                <h3 className='analysis-1'>Head to Head Analysis</h3>\n                <div className='pie-diagram'>\n                  <Pie data={data02} />\n                </div>\n              </Carousel.Item>\n\n              <Carousel.Item interval={1500}>\n                <h3 className='analysis-1'>Support on Twitter</h3>\n                <div className='line-diagram'>\n                  <Bar data={data03} />\n                </div>\n              </Carousel.Item>\n          </Carousel>\n\n          <AnalysisInst />\n\n      </div>\n    )}\n      \n\n    </div>\n\n};\n\nexport default AnalysisPage;\n"]},"metadata":{},"sourceType":"module"}