{"ast":null,"code":"import _asyncToGenerator from\"/home/qburst/Repositories(Personal)/predict-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/qburst/Repositories(Personal)/predict-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/qburst/Repositories(Personal)/predict-app/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import teams from'../assets/teams';import{Link}from\"react-router-dom\";import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,ArcElement}from'chart.js';import{Pie}from'react-chartjs-2';import*as ReactBootStrap from'react-bootstrap';import PredictHeader from'../components/PredictHeader';import Instructions from'../components/Instructions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,ArcElement);var PredictionPage=function PredictionPage(_ref){var history=_ref.history;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),homeTeam=_useState4[0],setHomeTeam=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),awayTeam=_useState6[0],setAwayTeam=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),result=_useState8[0],setResult=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),home=_useState10[0],setHome=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),away=_useState12[0],setAway=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),proba=_useState14[0],setProba=_useState14[1];var data01={labels:[home,away,\"Draw\"],datasets:[{label:'# of Votes',data:proba,backgroundColor:[\"#d3d6db\",\"#5a5e63\",\"#282b2e\"],borderWidth:1}]};var predictResult=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);fetch('/api/predict/',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"home_team\":homeTeam,\"away_team\":awayTeam})}).then(function(response){return response.json();}).then(function(data){console.log('Result:',data);setResult(data);setProba(data.probability);setHome(data.home_team);setAway(data.away_team);setLoading(false);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function predictResult(){return _ref2.apply(this,arguments);};}();var handleSubmit=function handleSubmit(){localStorage.setItem('homeTeam',homeTeam);localStorage.setItem('awayTeam',awayTeam);predictResult();history.push('/');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PredictHeader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"select-menu\",children:/*#__PURE__*/_jsx(\"select\",{className:\"form-select\",onChange:function onChange(e){var selectedHomeTeam=e.target.value;setHomeTeam(selectedHomeTeam);},children:teams.map(function(team){return/*#__PURE__*/_jsx(\"option\",{value:team.team,children:team.team});})})}),/*#__PURE__*/_jsx(\"div\",{className:\"select-menu\",children:/*#__PURE__*/_jsx(\"select\",{className:\"form-select\",onChange:function onChange(e){var selectedawayTeam=e.target.value;setAwayTeam(selectedawayTeam);},children:teams.map(function(team){return/*#__PURE__*/_jsx(\"option\",{value:team.team,children:team.team});})})}),/*#__PURE__*/_jsx(\"div\",{className:\"select-menu\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleSubmit,children:\"Predict\"})}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"status\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:result.result}),/*#__PURE__*/_jsx(ReactBootStrap.Spinner,{animation:\"border\"})]}):[result?/*#__PURE__*/_jsxs(\"div\",{className:\"status\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:result.result}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-secondary\",children:\"Winning Probability\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pie-diagram-predict\",children:/*#__PURE__*/_jsx(Pie,{data:data01})}),/*#__PURE__*/_jsx(Link,{className:\"link\",to:'/analysis',children:\"See analysis\"})]}):/*#__PURE__*/_jsx(Instructions,{})]]});};export default PredictionPage;","map":{"version":3,"sources":["/home/qburst/Repositories(Personal)/predict-app/frontend/src/pages/PredictionPage.js"],"names":["React","useState","teams","Link","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","ArcElement","Pie","ReactBootStrap","PredictHeader","Instructions","register","PredictionPage","history","loading","setLoading","homeTeam","setHomeTeam","awayTeam","setAwayTeam","result","setResult","home","setHome","away","setAway","proba","setProba","data01","labels","datasets","label","data","backgroundColor","borderWidth","predictResult","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","probability","home_team","away_team","handleSubmit","localStorage","setItem","push","e","selectedHomeTeam","target","value","map","team","selectedawayTeam"],"mappings":"6aAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OACIC,KAAK,GAAIC,CAAAA,OADb,CAEIC,aAFJ,CAGIC,WAHJ,CAIIC,YAJJ,CAKIC,WALJ,CAMIC,KANJ,CAOIC,OAPJ,CAQIC,MARJ,CASIC,UATJ,KAUS,UAVT,CAWA,OAASC,GAAT,KAAoB,iBAApB,CACA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,iBAAhC,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,C,wFAEEZ,OAAO,CAACa,QAAR,CACEZ,aADF,CAEEC,WAFF,CAGEC,YAHF,CAIEC,WAJF,CAKEC,KALF,CAMEC,OANF,CAOEC,MAPF,CAQEC,UARF,EAWF,GAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAe,IAAbC,CAAAA,OAAa,MAAbA,OAAa,CAClC,cAA4BnB,QAAQ,CAAC,KAAD,CAApC,wCAAKoB,OAAL,eAAcC,UAAd,eACA,eAA8BrB,QAAQ,CAAC,EAAD,CAAtC,yCAAKsB,QAAL,eAAeC,WAAf,eACA,eAA8BvB,QAAQ,CAAC,EAAD,CAAtC,yCAAKwB,QAAL,eAAeC,WAAf,eACA,eAA0BzB,QAAQ,CAAC,EAAD,CAAlC,yCAAK0B,MAAL,eAAaC,SAAb,eACA,eAAsB3B,QAAQ,CAAC,EAAD,CAA9B,0CAAK4B,IAAL,gBAAWC,OAAX,gBACA,gBAAsB7B,QAAQ,CAAC,EAAD,CAA9B,2CAAK8B,IAAL,gBAAWC,OAAX,gBACA,gBAAwB/B,QAAQ,CAAC,EAAD,CAAhC,2CAAKgC,KAAL,gBAAYC,QAAZ,gBAGA,GAAMC,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,CAACP,IAAD,CAAOE,IAAP,CAAa,MAAb,CADG,CAEXM,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,YADT,CAEEC,IAAI,CAAEN,KAFR,CAGEO,eAAe,CAAE,CACf,SADe,CAEf,SAFe,CAGf,SAHe,CAHnB,CASEC,WAAW,CAAE,CATf,CADQ,CAFC,CAAf,CAkBA,GAAIC,CAAAA,aAAa,2FAAG,mIAChBpB,UAAU,CAAC,IAAD,CAAV,CACAqB,KAAK,CAAC,eAAD,CAAkB,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFU,CAKnBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB,YAAazB,QADI,CAEjB,YAAaE,QAFI,CAAf,CALa,CAAlB,CAAL,CAUGwB,IAVH,CAUQ,SAASC,QAAT,CAAmB,CACvB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACA,CAZJ,EAaIF,IAbJ,CAaS,SAASV,IAAT,CAAe,CACpBa,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBd,IAAvB,EACAX,SAAS,CAACW,IAAD,CAAT,CACAL,QAAQ,CAACK,IAAI,CAACe,WAAN,CAAR,CACAxB,OAAO,CAACS,IAAI,CAACgB,SAAN,CAAP,CACAvB,OAAO,CAACO,IAAI,CAACiB,SAAN,CAAP,CACAlC,UAAU,CAAC,KAAD,CAAV,CACA,CApBJ,EAFgB,sDAAH,kBAAboB,CAAAA,aAAa,2CAAjB,CAyBA,GAAIe,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACrBC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCpC,QAAjC,EACAmC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiClC,QAAjC,EACAiB,aAAa,GACbtB,OAAO,CAACwC,IAAR,CAAa,GAAb,EACH,CALD,CAOA,mBAAO,oCACH,KAAC,aAAD,IADG,cAEC,YAAM,SAAS,CAAC,aAAhB,uBACI,eAAQ,SAAS,CAAC,aAAlB,CAAgC,QAAQ,CAAE,kBAACC,CAAD,CAAK,CAC3C,GAAMC,CAAAA,gBAAgB,CAACD,CAAC,CAACE,MAAF,CAASC,KAAhC,CACAxC,WAAW,CAACsC,gBAAD,CAAX,CACH,CAHD,UAIK5D,KAAK,CAAC+D,GAAN,CAAU,SAAAC,IAAI,qBACX,eAAQ,KAAK,CAAEA,IAAI,CAACA,IAApB,UAA2BA,IAAI,CAACA,IAAhC,EADW,EAAd,CAJL,EADJ,EAFD,cAcC,YAAM,SAAS,CAAC,aAAhB,uBACI,eAAQ,SAAS,CAAC,aAAlB,CAAgC,QAAQ,CAAE,kBAACL,CAAD,CAAK,CAC3C,GAAMM,CAAAA,gBAAgB,CAACN,CAAC,CAACE,MAAF,CAASC,KAAhC,CACAtC,WAAW,CAACyC,gBAAD,CAAX,CACH,CAHD,UAIKjE,KAAK,CAAC+D,GAAN,CAAU,SAAAC,IAAI,qBACX,eAAQ,KAAK,CAAEA,IAAI,CAACA,IAApB,UAA2BA,IAAI,CAACA,IAAhC,EADW,EAAd,CAJL,EADJ,EAdD,cAyBC,YAAK,SAAS,CAAC,aAAf,uBACI,eAAQ,SAAS,CAAC,mBAAlB,CAAsC,OAAO,CAAET,YAA/C,qBADJ,EAzBD,CA6BEpC,OAAO,cAER,aAAK,SAAS,CAAC,QAAf,wBACI,UAAG,SAAS,CAAC,MAAb,UAAqBM,MAAM,CAACA,MAA5B,EADJ,cAEI,KAAC,cAAD,CAAgB,OAAhB,EAAwB,SAAS,CAAC,QAAlC,EAFJ,GAFQ,CAOL,CAEFA,MAAM,cAAG,aAAK,SAAS,CAAC,QAAf,wBACN,UAAG,SAAS,CAAC,MAAb,UAAqBA,MAAM,CAACA,MAA5B,EADM,cAEN,WAAI,SAAS,CAAC,gBAAd,iCAFM,cAGN,YAAK,SAAS,CAAC,qBAAf,uBACA,KAAC,GAAD,EAAK,IAAI,CAAEQ,MAAX,EADA,EAHM,cAMN,KAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,EAAE,CAAE,WAA3B,0BANM,GAAH,cAQH,KAAC,YAAD,IAVD,CApCJ,GAAP,CAiDC,CA7GL,CA+GA,cAAehB,CAAAA,cAAf","sourcesContent":["import React, { useState} from 'react';\nimport teams from '../assets/teams';\nimport { Link } from \"react-router-dom\"\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement\n  } from 'chart.js';\nimport { Pie } from 'react-chartjs-2';\nimport * as ReactBootStrap from 'react-bootstrap'\nimport PredictHeader from '../components/PredictHeader'\nimport Instructions from '../components/Instructions'\n  \n  ChartJS.register(\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement\n  );\n\nconst PredictionPage = ({history}) => {\n    let [loading, setLoading] = useState(false)\n    let [homeTeam, setHomeTeam] = useState(\"\")\n    let [awayTeam, setAwayTeam] = useState(\"\")\n    let [result, setResult] = useState(\"\")\n    let [home, setHome] = useState(\"\")\n    let [away, setAway] = useState(\"\")\n    let [proba, setProba] = useState([])\n\n\n    const data01 = {\n        labels: [home, away, \"Draw\"],\n        datasets: [\n          {\n            label: '# of Votes',\n            data: proba,\n            backgroundColor: [\n              \"#d3d6db\",\n              \"#5a5e63\",\n              \"#282b2e\"\n            ],\n  \n            borderWidth: 1,\n          },\n        ],\n      };\n  \n\n    let predictResult = async () => {\n        setLoading(true)\n        fetch('/api/predict/', {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                \"home_team\": homeTeam,\n                \"away_team\": awayTeam\n            })\n            \n        }).then(function(response) {\n            return response.json();\n           })\n           .then(function(data) {\n            console.log('Result:', data)\n            setResult(data);\n            setProba(data.probability)\n            setHome(data.home_team)\n            setAway(data.away_team)\n            setLoading(false)\n           });\n    }\n\n    let handleSubmit = () => {\n        localStorage.setItem('homeTeam', homeTeam)\n        localStorage.setItem('awayTeam', awayTeam)\n        predictResult()\n        history.push('/')\n    }\n\n    return <div>\n        <PredictHeader />\n            <div  className='select-menu'>\n                <select className='form-select' onChange={(e)=>{\n                    const selectedHomeTeam=e.target.value;\n                    setHomeTeam(selectedHomeTeam)\n                }}>\n                    {teams.map(team => (\n                        <option value={team.team}>{team.team}</option>\n                    ))}                \n                </select>\n\n            </div>\n\n            <div  className='select-menu'>\n                <select className='form-select' onChange={(e)=>{\n                    const selectedawayTeam=e.target.value;\n                    setAwayTeam(selectedawayTeam)\n                }}>\n                    {teams.map(team => (\n                        <option value={team.team}>{team.team}</option>\n                    ))}\n                </select>\n            </div>\n\n            <div className='select-menu'>\n                <button className='btn btn-secondary' onClick={handleSubmit}>Predict</button>\n            </div>\n   \n            {loading ? (\n\n            <div className='status'>\n                <p className='lead'>{result.result}</p>\n                <ReactBootStrap.Spinner animation=\"border\" />\n            </div>\n    \n            ): [\n            \n            (result ? <div className='status'>\n                <p className='lead'>{result.result}</p>\n                <h4 className='text-secondary'>Winning Probability</h4>\n                <div className='pie-diagram-predict'>\n                <Pie data={data01} />\n                </div>\n                <Link className='link' to={'/analysis'}>See analysis</Link>\n            </div>: \n                <Instructions />)          \n            ]} \n         </div>;\n    };\n\nexport default PredictionPage;"]},"metadata":{},"sourceType":"module"}